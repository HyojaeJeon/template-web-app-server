# ================================================
# Duri 서버 환경변수 설정
# ================================================

# 환경 설정
NODE_ENV=development
PORT=4000

# ================================================
# 데이터베이스 설정
# ================================================
DB_HOST=localhost
DB_PORT=3306
DB_NAME=duri_db
DB_USER=root
DB_PASS=your_password

# ================================================
# Redis 설정
# ================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ================================================
# JWT 토큰 설정
# ================================================
JWT_SECRET=your-jwt-secret-key-change-in-production
JWT_REFRESH_SECRET=your-refresh-secret-key-change-in-production
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=30d

# ================================================
# 결제 게이트웨이 설정
# ================================================

# 트랜잭션 ID Prefix (사용자 정의 가능)
TRANSACTION_ID_PREFIX=DURI

# ================================================
# ZaloPay 설정
# ================================================
ZALOPAY_APP_ID=2553
ZALOPAY_KEY1=your_zalopay_key1
ZALOPAY_KEY2=your_zalopay_key2
ZALOPAY_ENDPOINT=https://sb-openapi.zalopay.vn/v2/create
# 프로덕션: ZALOPAY_ENDPOINT=https://openapi.zalopay.vn/v2/create

# ================================================
# NAPAS QR 설정
# ================================================
NAPAS_MERCHANT_ID=DURI001
NAPAS_ENDPOINT=https://sandbox.napas.com.vn/api/qr/create
# 프로덕션: NAPAS_ENDPOINT=https://api.napas.com.vn/api/qr/create

# NAPAS RSA-2048 키 경로
NAPAS_PUBLIC_KEY_PATH=./keys/napas/public.pem
NAPAS_PRIVATE_KEY_PATH=./keys/napas/private.pem

# ================================================
# InfoCMS Shinhan 설정
# ================================================
INFOCMS_SHINHAN_MERCHANT_ID=SHINHAN_DURI
INFOCMS_SHINHAN_ENDPOINT=https://infocms.shinhan.com/api/payment
# 프로덕션: INFOCMS_SHINHAN_ENDPOINT=https://prod-infocms.shinhan.com/api/payment

# InfoCMS Shinhan PGP 키 경로
INFOCMS_SHINHAN_PUBLIC_KEY_PATH=./keys/infocms/shinhan_public.asc
INFOCMS_SHINHAN_PRIVATE_KEY_PATH=./keys/infocms/shinhan_private.asc
INFOCMS_SHINHAN_PASSPHRASE_PATH=./keys/infocms/shinhan_passphrase.txt

# ================================================
# InfoCMS BIDV 설정
# ================================================
INFOCMS_BIDV_MERCHANT_ID=BIDV_DURI
INFOCMS_BIDV_ENDPOINT=https://infocms.bidv.com.vn/api/payment
# 프로덕션: INFOCMS_BIDV_ENDPOINT=https://prod-infocms.bidv.com.vn/api/payment

# InfoCMS BIDV PGP 키 경로
INFOCMS_BIDV_PUBLIC_KEY_PATH=./keys/infocms/bidv_public.asc
INFOCMS_BIDV_PRIVATE_KEY_PATH=./keys/infocms/bidv_private.asc
INFOCMS_BIDV_PASSPHRASE_PATH=./keys/infocms/bidv_passphrase.txt

# ================================================
# MBBank 설정
# ================================================
MBBANK_MERCHANT_ID=MB_DURI
MBBANK_HOST=test-mbbank.com.vn
MBBANK_PORT=8888
# 프로덕션: MBBANK_HOST=mbbank-gateway.com.vn

# MBBank 3DES 암호화 키 (24 bytes Hex)
MBBANK_3DES_KEY=0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF
MBBANK_IV=0123456789ABCDEF

# MBBank Timeout (밀리초)
MBBANK_TIMEOUT=30000

# ================================================
# MoMo 설정
# ================================================
MOMO_PARTNER_CODE=your_momo_partner_code
MOMO_ACCESS_KEY=your_momo_access_key
MOMO_SECRET_KEY=your_momo_secret_key
MOMO_ENDPOINT=https://test-payment.momo.vn
# 프로덕션: MOMO_ENDPOINT=https://payment.momo.vn

# ================================================
# VNPay 설정
# ================================================
VNPAY_TMN_CODE=your_vnpay_tmn_code
VNPAY_HASH_SECRET=your_vnpay_hash_secret
VNPAY_ENDPOINT=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
# 프로덕션: VNPAY_ENDPOINT=https://vnpayment.vn/paymentv2/vpcpay.html

# ================================================
# Firebase Admin SDK (알림)
# ================================================
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_PRIVATE_KEY=your-private-key
FIREBASE_CLIENT_EMAIL=your-client-email

# ================================================
# Cloudflare R2 Storage
# ================================================
CLOUDFLARE_ACCOUNT_ID=your_account_id
CLOUDFLARE_ACCESS_KEY_ID=your_access_key
CLOUDFLARE_SECRET_ACCESS_KEY=your_secret_key
CLOUDFLARE_BUCKET_NAME=duri-images
CLOUDFLARE_PUBLIC_URL=https://images.duri.com

# ================================================
# Socket.IO 설정
# ================================================
SOCKET_CORS_ORIGIN=http://localhost:5000,http://localhost:5001
SOCKET_AUTH_BYPASS=false

# ================================================
# 로깅 설정
# ================================================
LOG_LEVEL=debug
LOG_FILE_PATH=./logs/server.log

# ================================================
# Rate Limiting
# ================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ================================================
# Webhook 보안 설정
# ================================================
WEBHOOK_SECRET=your-webhook-secret-key
WEBHOOK_IP_WHITELIST=127.0.0.1,::1

# ================================================
# 개발 도구
# ================================================
# ngrok URL (로컬 개발용)
NGROK_URL=https://your-ngrok-url.ngrok.io
